import{S as t,i as s,s as e,m as a,k as o,o as r,p as n,e as c,t as l,x as f,c as i,a as d,b as p,d as h,y as m,f as g,g as u,h as $,n as v,w as y}from"./index.8f88dd1c.js";import{C as E}from"./ContentContainer.ae9d2b2e.js";function x(t,s,e){const a=Object.create(t);return a.post=s[e],a}function b(t){var s,e,a,o,r,n,y,E,x,b=t.post.metadata.title+"",w=new Date(t.post.metadata.edited||t.post.metadata.date).toDateString()+"";return{c(){s=c("li"),e=c("a"),a=c("div"),o=l(b),r=f(),n=c("div"),y=c("span"),E=l(w),x=f(),this.h()},l(t){s=i(t,"LI",{class:!0},!1);var c=d(s);e=i(c,"A",{class:!0,rel:!0,href:!0},!1);var l=d(e);a=i(l,"DIV",{class:!0},!1);var f=d(a);o=p(f,b),f.forEach(h),r=m(l),n=i(l,"DIV",{class:!0},!1);var g=d(n);y=i(g,"SPAN",{class:!0},!1);var u=d(y);E=p(u,w),u.forEach(h),g.forEach(h),l.forEach(h),x=m(c),c.forEach(h),this.h()},h(){g(a,"class","title svelte-feygm4"),g(y,"class","svelte-feygm4"),g(n,"class","date svelte-feygm4"),g(e,"class","link svelte-feygm4"),g(e,"rel","prefetch"),g(e,"href","blog/"+t.post.slug),g(s,"class","svelte-feygm4")},m(t,c){u(t,s,c),$(s,e),$(e,a),$(a,o),$(e,r),$(e,n),$(n,y),$(y,E),$(s,x)},p:v,d(t){t&&h(s)}}}function w(t){var s,e,a,o,r;let n=t.sortedPosts,v=[];for(let s=0;s<n.length;s+=1)v[s]=b(x(t,n,s));return{c(){s=c("div"),e=c("h1"),a=l("Recent posts"),o=f(),r=c("ul");for(let t=0;t<v.length;t+=1)v[t].c();this.h()},l(t){s=i(t,"DIV",{class:!0},!1);var n=d(s);e=i(n,"H1",{},!1);var c=d(e);a=p(c,"Recent posts"),c.forEach(h),o=m(n),r=i(n,"UL",{class:!0},!1);var l=d(r);for(let t=0;t<v.length;t+=1)v[t].l(l);l.forEach(h),n.forEach(h),this.h()},h(){g(r,"class","svelte-feygm4"),g(s,"class","list svelte-feygm4")},m(t,n){u(t,s,n),$(s,e),$(e,a),$(s,o),$(s,r);for(let t=0;t<v.length;t+=1)v[t].m(r,null)},p(t,s){if(t.sortedPosts){let e;for(n=s.sortedPosts,e=0;e<n.length;e+=1){const a=x(s,n,e);v[e]?v[e].p(t,a):(v[e]=b(a),v[e].c(),v[e].m(r,null))}for(;e<v.length;e+=1)v[e].d(1);v.length=n.length}},d(t){t&&h(s),y(v,t)}}}function j(t){var s,e=new E({props:{$$slots:{default:[w]},$$scope:{ctx:t}}});return{c(){e.$$.fragment.c()},l(t){e.$$.fragment.l(t)},m(t,o){a(e,t,o),s=!0},p(t,s){var a={};t.$$scope&&(a.$$scope={changed:t,ctx:s}),e.$set(a)},i(t){s||(o(e.$$.fragment,t),s=!0)},o(t){r(e.$$.fragment,t),s=!1},d(t){n(e,t)}}}function D(t,s,e){let{posts:a}=s;const o=t=>t.slice(0,10).replace(/-/g,""),r=(t=>t.map(t=>(console.log(t.metadata.edited||t.metadata.date),t)).sort((t,s)=>o(t.metadata.edited||t.metadata.date)-o(s.metadata.edited||s.metadata.date)))(a);return t.$set=(t=>{"posts"in t&&e("posts",a=t.posts)}),{posts:a,sortedPosts:r}}class P extends t{constructor(t){super(),s(this,t,D,j,e,["posts"])}}function S(t){var s,e,l,p=new P({props:{posts:t.posts}});return{c(){s=c("meta"),e=f(),p.$$.fragment.c(),this.h()},l(t){s=i(t,"META",{name:!0,content:!0},!1),d(s).forEach(h),e=m(t),p.$$.fragment.l(t),this.h()},h(){document.title="Ben McGarvey | Blog",g(s,"name","description"),g(s,"content","Website of Ben McGarvey -Full Stack Software Engineer. Visit to learn more, read some articles and get in touch.")},m(t,o){$(document.head,s),u(t,e,o),a(p,t,o),l=!0},p(t,s){var e={};t.posts&&(e.posts=s.posts),p.$set(e)},i(t){l||(o(p.$$.fragment,t),l=!0)},o(t){r(p.$$.fragment,t),l=!1},d(t){h(s),t&&h(e),n(p,t)}}}async function I(){return{posts:await this.fetch("./blog.json").then(t=>t.json())}}function V(t,s,e){let{posts:a}=s;return t.$set=(t=>{"posts"in t&&e("posts",a=t.posts)}),{posts:a}}export default class extends t{constructor(t){super(),s(this,t,V,S,e,["posts"])}}export{I as preload};
